diploiVersion: v1.0
type: component
name: Next.js
description: Official Diploi component for Next.js

contexts:
  - name: app
    identifier: app

hosts:
  - name: Next.js
    identifier: nextjs
    urlFormat: '[label].[default-domain]'

images:
  - identifier: app
    repository: app
    dockerfile: Dockerfile
    image: ghcr.io/diploi/component-nextjs
    stages:
      - development
      - production
      - staging
    manualBuildStages:
      - development

storage:

parameterGroups:
  - name: SomeGroup
    identifier: group
    toggleable: false
    description: Just some group
    defaultValue: TRUE
    parameters:
      - name: String
        identifier: TEST_STRING
        defaultValue: test
        type: string

environmentVariables:
  - identifier: SUBTITLE
    defaultValue: This text comes from an environment variable
    type: string
    contexts: label=app
    
logs:
  - identifier: app-log
    name: App Log
    labelSelector: app=app
    command: tail -n 2000 -F /var/log/app.log
